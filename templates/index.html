{# templates/index.html #}
{% extends "base.html" %}

{% block content %}
  <h2 class="mb-4" style="font-family: 'Merriweather', serif;">Libros Disponibles</h2>
  <div class="row g-4">
    {% for libro in libros %}
      <div class="col-6 col-md-4 col-lg-3">
        <div class="card border-0 shadow-sm h-100">
          <img src="{{ libro.portada_url or url_for('static', filename='imagenes/portada_default.png') }}"
               class="card-img-top"
               alt="{{ libro.titulo }}"
               style="object-fit: cover; height: 250px;">
          <div class="card-body">
            <h5 class="card-title">{{ libro.titulo }}</h5>
            <p class="card-text text-author">Autor: {{ libro.autor }}</p>
            {% if current_user.is_authenticated %}
              <a href="{{ url_for('main.nuevo_prestamo', libro_id=libro.id) }}" class="btn btn-success btn-sm">
                Reservar
              </a>
            {% else %}
              <a href="{{ url_for('main.login') }}" class="btn btn-outline-primary btn-sm">
                Inicia sesi√≥n para reservar
              </a>
            {% endif %}
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock %}
